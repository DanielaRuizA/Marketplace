<h1 class="text-center my-4">My Products</h1>

<div class="container">
  <% if @products.any? %>
    <div class="row">
      <% @products.each do |product| %>
        <div class="col-md-6 col-lg-4 mb-4">
          <div class="card shadow-sm">
            <div class="card-body">
              <h2 class="card-title h5">
                <%= link_to product.name, product, class: "text-decoration-none text-dark" %>
              </h2>
              <% if product.img.attached? %>
              <div class="product-image">
                <%= image_tag product.img, class: "img-fluid", alt: product.name %>
              </div>
              <% end %>
              <p class="card-text mb-2"><strong>Price:</strong> $<%= product.price %></p>
              <p class="card-text mb-2"><strong>Description:</strong> <%= product.description %></p>
              <p class="card-text mb-2"><strong>Category:</strong> <%= product.category.name %></p>
              <p class="card-text mb-2"><strong>Created by: </strong><%= product.user.name %></p>
              <p class="card-text mb-2"><strong>Email: </strong><%= product.user.email %></p>
              <p class="card-text mb-2"><strong>Phone: </strong><%= product.user.phone %></p>
              <div class="d-flex justify-content-between mt-3">
                <%= link_to "Edit", edit_product_path(product), class: "btn btn-primary btn-sm" %>
                <%= button_to "Delete", product_path(product), method: :delete, data: { turbo_confirm: "Are you sure you want to delete this product?" }, class: "btn btn-danger btn-sm" %>
              </div>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  <% else %>
    <div class="alert alert-warning text-center" role="alert">
      You don't have any products created.
    </div>
  <% end %>
</div>
